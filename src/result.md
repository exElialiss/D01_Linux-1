## Part 1. Установка ОС

+ Была установлена Ubuntu 20.04 Server LTS без графического интерфейса и выполнена команда:

`` cat /etc/issue. ``

![Результат выполнения команды из Part 1](pic/part1.jpg)

## Part 2. Создание пользователя

+ Был создан новый пользователь `` myuser `` с помощью следующей команды:

![Добавление нового пользователя](pic/part2_useradd.jpg)

+ После этого была выполнена команда:
 
``` cat /etc/passwd ```

+ В результате в конце вывода вышеприведенной команды была добавлена строка с новым пользователем. 

![Результат выполнения команды из Part 2](pic/part2_user.jpg)

## Part 3. Настройка сети ОС

+ С помощью команды `` hostname `` изменим имя компьютера на `` user-1 ``.

![Результат смены имени машины](pic/part3_host.jpg)

+ Для смены часового пояса воспользуемся командой `` timedatectl set-timezone``.

![Результат смены часового пояса](pic/part3_date.jpg)

+ loopback (коротко говоря lo) — это аппаратный или программный метод, который направляет полученный сигнал или данные обратно отправителю. Он используется как дополнительное средство в исправлении проблем физического соединения.

+ DHCP - это клиент-серверный протокол динамической конфигурации хоста (Dynamic Host Configuration Protocol), с помощью которого в ИТ-инфраструктуре сетевые параметры каждого нового устройства прописываются автоматически. Использование DHCP существенно упрощает работу системных администраторов в случаях расширения сети.

![Результат вывода сетевых интерфейсов](pic/part3_ip.jpg)

![Результат вывода внешнего и внутреннего IP](pic/part3_ipr.jpg)

+ Для изменения статичных настроек необходимо отредактировать файл ``/etc/netplan/00-installer-config.yaml``.

![Результат изменения](pic/part3_edit_stat.jpg)

+ Перезагрузим машину и посмотрим, изменилось ли содержимое вышеупомянутого файла.

![Результат изменения после перезапуска](pic/part3_edit_stat.jpg)

+ Пропингуем `` 1.1.1.1 `` и ``ya.ru``.

![Результат пинга](pic/part3_ping.jpg)

## Part 4. Обновление ОС

+ Для обновления ОС воспользуемся командами ``apt update`` и ``apt upgrade``.

![Результат обновления](pic/part4_update.jpg)

## Part 5. Использование команды sudo

+ Команда sudo ( substitute user and do, подменить пользователя и выполнить ) позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root.

![Результат добавления права sudo](pic/part5_sudo.jpg)

+ Перешли под пользователя ``myuser`` с помощью ``su myuser``.

![Результат изменения hostname](pic/part5_hostname.jpg)

![Результат изменения hostname](pic/part5_hostname2.jpg)

## Part 6. Установка и настройка службы времени

![Результат просмотра часового пояса](pic/part6_time.jpg)

![Результат просмотра timedatectl](pic/part6_date.jpg)

## Part 7. Установка и использование текстовых редакторов

+ Использумые текстовые редакторы - vim, nano и joe

### Vim

+ Для создания файла используем команду ```vim test_vim.txt```

![Результат записи для vim](pic/part7_vim.jpg)

+ Для ввода нажимаем ```I``` и  после нажимаем ```Esc```, а после для выхода из vim с 
сохранением ввести команаду ```:wq```

![Результат записи для vim](pic/part7_vim1.jpg)

+ После ввода необходимого текста необходимо нажать клавишу ```Esc```, а после для выхода из vim без
  сохранения ввести команаду ```:q!```

+ Для поиска элемента во всем файле необходимо ввести следующую команду ```:%s/<pattern>```, Vim будет
подсвечивать найденные части

+ Для замена элемента во всем файле необходимо ввести следующую команду ```:%s/<pattern>/<to>/g```

### Nano

![Результат записи для nano](pic/part7_nano.jpg)

![Результат записи для nano](pic/part7_nano1.jpg)

+ После ввода необходимого текста необходимо нажать сочетание клавиш ```CTRL + X```, Nano спросит, необходимо ли 
сохранять изменения, нажимаем ```Y```, далее спросит имя файла для записи, указываем необходимое и нажимаем ```Enter```

![Результат записи для nano](pic/part7_nanosearch.jpg)

+ После ввода необходимого текста необходимо нажать сочетание клавиш ```CTRL + X```, Nano спросит, необходимо ли
  сохранять изменения, нажимаем ```N```

![Результат поиска для nano](pic/part7_nanosearch2.jpg)

+ Для поиска элемента необходимо нажать сочетание клавиш ```CTRL + W```, Nano предложит ввести то, что нужно найти, и
при удачном поиске перебросит курсор на начало найденного элемента

![Результат замены для nano](pic/part7_nanosearch4.jpg)

+ Для замена элемента необходимо нажать сочетание клавиш ```CTRL + \ ```, Nano предложит сначала ввести то, что необходимо
найти, а после то, на что необходимо заменить, выделит найденные участки и уточнит, необходимо ли заменить их

### Joe

![Результат записи для joe](pic/part7_joe.jpg)

+ После ввода необходимого текста необходимо нажать сочетание клавиш ```CTRL + K + D``` для выхода с создание файла, Joe
предложит ввести имя файла. После этого нажимаем ```CTRL + K + Q``` для выхода

![Результат записи для joe](pic/part7_joe1.jpg)

+ После ввода необходимого текста необходимо нажать сочетание клавиш ```CTRL + K + Q``` для выхода без сохранения

![Результат поиска для joe](pic/part7_joesearch.jpg)

![Результат поиска для joe](pic/part7_joesearch11.jpg)

![Результат поиска для joe](pic/part7_joesearch2.jpg)

+ Для поиска элемента необходимо нажать сочетание клавиш ```CTRL + K + F```, Joe предложит ввести то, что нужно найти, 
далее предложит выбрать одну из доступных опций:
  + I - не различать при поиске символы верхнего и нижнего регистров. Обычно считается, что они различны.
при удачном поиске перебросит курсор на начало найденного элемента;
  + B - поиск назад, а не вперед;
  + число - если ввести число - Joe найдет n-ное вхождение искомого текста;
  + R - замещать текст, далее будет предложено ввести текст для замены.
Просто нажимаем ```Enter```, в случае успешного поиска Joe переставит курсор на конец последнего найденного фрагмента

![Результат замены для joe](pic/part7_joesearch3.jpg)

![Результат замены для joe](pic/part7_joesearch4.jpg)

+ Для замены элемента нажимаем ```CTRL + K + F```, вводим искомый текст и выбираем опцию R для замены, после вводим новый
текст, Joe спросит заменить ли выделенный текст, нажимаем ```Y```, после этого переключится на другой выделенный фрагмент
и будет делать эти операции до тех пор, пока не закончатся все нахождения

## Part 8. Установка и базовая настройка сервиса SSHD

+ Для установки воспользуемся командой ```sudo-apt install openssh-server```
+ Для автозапуска введем команду ```sudo systemctl enable ssh.service```
+ Для перенастройки службы необходимо отредактировать конфиг ```/etc/ssh/sshd_config```
![Результат замены порта](pic/part8_port.jpg)
+ Перед выполнением следующего пункта задания перезагружаем службу командой ```sudo systemctl restart sshd.service```

Утилита `ps` одна из самых простых и в то же время часто используемых программ для просмотра списка процессов в Linux.
- a - выбрать все процессы, кроме фоновых
- u - выбрать процессы пользователя
- x - При отображении процессов, соответствующих другим параметрам, включите процессы, у которых нет управляющего терминала. Это противоположность опции -X. Если в одной команде указаны и -X, и -x, то ps будет использовать тот, который был указан последним.

+ Далее выполняем команду ```ps aux``` и для того, чтобы отобразить только искомыый процесс дополняем команду поиском
  по шаблону: ```ps aux | grep sshd```

![Результат поиска службы](pic/part8_search.jpg)

+ Для перезагрузки используем команду ```reboot```
+ Используем команду ```netstat -tan```

![Результат поиска службы](pic/part8_netstat.jpg)

Программа `netstat` показывает статус сети. Флаги:
+ `-t` отображает список соединения TCP,
+ `-a` показывает список всех портов,
+ `-n` отображает в числовом формате, не отображая имя хоста.

Расшифровка столбцов:
- 1 - протокол подключения, 
- 2 - полученные пакеты, 
- 3 - отправленные пакеты,
- 4 - локальный адрес, 
- 5 - удаленный адресс, 
- 6 - статус.

Адресс `0.0.0.0` используется в сети как немаршрутизируемый адрес IPv4, 
он используется во время инициализации системы, когда устройство использует его до того, как ему 
будет назначен реальный IP-адрес, в качестве адреса по умолчанию.

## Part 9. Установка и использование утилит top, htop

+ Для установки утилиты htop используем ```sudo apt install htop```, утилита top в системе уже предустановлена

### Top

![Результат вывода top](pic/part9_top.jpg)

+ uptime - 4 минуты
+ количество авторизованных пользователей - 1
+ общую загрузку системы - 0,7 0,29 0,16 
+ общее количество процессов - 99
+ загрузку cpu

![Результат вывода CPU top](pic/part9_cpu.jpg)
+ загрузку памяти

![Результат вывода Memory top](pic/part9_mem.jpg)
+ pid процесса занимающего больше всего памяти

![Результат вывода Max Mem](pic/part9_maxmem.jpg)
+ pid процесса, занимающего больше всего процессорного времени

![Результат вывода Max Cup](pic/part9_maxcpu.jpg)

### Htop

+ Отсортированный по:
  + PID,

  ![Результат вывода htop по PID](pic/part9_htopPID.jpg)
  + PERCENT_CPU,

  ![Результат вывода htop по PERCENT_CPU](pic/part9_htopCPU.jpg)
  + PERCENT_MEM,

  ![Результат вывода htop по PERCENT_MEM](pic/part9_memo.jpg)
  + TIME

  ![Результат вывода htop по TIME](pic/part9_TIME.jpg)

+ Отфильтрованный для процесса sshd:

![Результат вывода htop для sshd](pic/part9_sshd.jpg)

+ С процессом syslog, найденным, используя поиск:

![Результат вывода htop для sshd](pic/part9_syslog.jpg)

+ С добавленным выводом hostname, clock и uptime

![Результат вывода htop с hostname, clock и uptime](pic/part9_hostname.jpg)

## Part 10. Использование утилиты fdisk

+ Запускаем команду ```sudo fdisk -l```

![Результат вывода fdisk](pic/part10_fdick.jpg)

+ Название жесткого диска - ```/dev/sda```
+ Размер - ```3.29 GiB, 3523911680 bytes```
+ Количество секторов - ```6882640 sectors```
+ Размер swap - ```0```, отсутствует

## Part 11. Использование утилиты df

![Результат вывода df](pic/part11_df.jpg)

+ Для корневого раздела (/):
  + размер раздела - ```3306244```
  + размер занятого пространства - ```2834992```
  + размер свободного пространства - ```282992```
  + процент использования - ```91%```

Единица измерения - Кбайт

![Результат вывода df с флагами](pic/part11_df-th.jpg)

+ Для корневого раздела (/):
  + размер раздела - ```3.2G```
  + размер занятого пространства - ```2.8``` 
  + размер свободного пространства - ```277M```
  + процент использования - ```91%```

Тип файловой системы - ```ext4```

## Part 12. Использование утилиты du

### /home

![Результат вывода home в b](pic/part12_home.jpg)

![Результат вывода home в h](pic/part12_home2.jpg)

### /var

![Результат вывода var в b](pic/part12_varb.jpg)

![Результат вывода var в h](pic/part12_var.jpg)

### /var/log

![Результат вывода log в b](pic/part12_log1.jpg)

![Результат вывода log в h](pic/part12_log2.jpg)

![Результат вывода всего в log в b](pic/part12_log3.jpg)

![Результат вывода всего в log в h](pic/part12_log4.jpg)

## Part 13. Установка и использование утилиты ncdu

+ Для установки используем команду ```sudo apt install ncdu```
+ Запускаем команду ```ncdu /```

![Результат вывода home](pic/part13_home.jpg)

![Результат вывода var](pic/part13_var.jpg)

![Результат вывода log](pic/part13_log.jpg)

## Part 14. Работа с системными журналами

+ Для открытия логов используем VIM

![Результат авторизации](pic/part14_dmesg.jpg)

![Результат авторизации](pic/part14_syslog.jpg)

![Результат авторизации](pic/part14_auth.jpg)

+ Последняя авторизация:

![Результат авторизации](pic/part14_login.jpg)

+ Для перезапуска службы используем ```sudo systemctl restart sshd.service```
+ Рестарт службы в логах:

![Результат авторизации](pic/part14_restart.jpg)

## Part 15. Использование планировщика заданий CRON

+ Запсукаем CRON с помощью ```crontab -e```

![Результат запуска CRON](pic/part15_cron.jpg)

+ Редактируем с помощью nano, поэтому выбираем 5 и добавляем в конец следующую строку:

![Результат редактирования CRON](pic/part15_cron1.jpg)

+ Проверим результат в логах:

![Результат редактирования CRON](pic/part15_cron2.jpg)

+ Список текущих задач получим с помощью команды ```crontab -l```

+ Для удаления задач воспользуемся командой ```crontab -r```, а после проверим её выполнение

![Результат редактирования CRON](pic/part15_cron3.jpg)